type GS_About {
    page: String
    title: String
    type: String
    text: [String]
}

type GlobalSearchResult {
    about_count: Int
    about_page: [GS_About]
}

type IdsListsES {
    participantIds: [String]
}

type SearchParticipantsReturnObject {
    group: String
    subjects: Int
}

type RangeCount {
    lowerBound: Int
    upperBound: Int
    subjects: Int
}

type SearchParticipantsResult {
    filterParticipantCountByGender: [SearchParticipantsReturnObject]
    filterParticipantCountByRace: [SearchParticipantsReturnObject]
    filterParticipantCountByEthnicity: [SearchParticipantsReturnObject]
    filterParticipantCountByDiagnosisAge: RangeCount
    filterParticipantCountByDiagnosisAnatomicSite: [SearchParticipantsReturnObject]
    filterParticipantCountByDiseasePhase: [SearchParticipantsReturnObject]
    filterParticipantCountByICDO: [SearchParticipantsReturnObject]
    filterParticipantCountByVitalStatus: [SearchParticipantsReturnObject]
    filterParticipantCountBySampleAnatomicSite: [SearchParticipantsReturnObject]
    filterParticipantCountBySampleAge: RangeCount
    filterParticipantCountByTumorStatus: [SearchParticipantsReturnObject]
    filterParticipantCountByTumorClassification: [SearchParticipantsReturnObject]
    filterParticipantCountByAssayMethod: [SearchParticipantsReturnObject]
    filterParticipantCountByFileType: [SearchParticipantsReturnObject]
    filterParticipantCountByPHSAccession: [SearchParticipantsReturnObject]
    filterParticipantCountByGrantID: [SearchParticipantsReturnObject]
    filterParticipantCountByInstitution: [SearchParticipantsReturnObject]
    filterParticipantCountByName: [SearchParticipantsReturnObject]
    filterParticipantCountByAcronym: [SearchParticipantsReturnObject]
    filterParticipantCountByStudyTitle: [SearchParticipantsReturnObject]
    filterParticipantCountByLibrarySelection: [SearchParticipantsReturnObject]
    filterParticipantCountByLibrarySource: [SearchParticipantsReturnObject]
    filterParticipantCountByLibraryStrategy: [SearchParticipantsReturnObject]

    numberOfStudies: Int
    numberOfParticipants: Int
    numberOfSamples: Int
    numberOfFiles: Int
    numberOfDiagnosis: Int

    # C3DC does not have "Files"
    participantsFileCount: Int
    diagnosisFileCount: Int
    samplesFileCount: Int
    studiesFileCount: Int
    filesFileCount: Int

    # For widgets
    participantCountByStudy: [SearchParticipantsReturnObject]
    participantCountByDiagnosis: [SearchParticipantsReturnObject]
    participantCountByDiagnosisAge: [SearchParticipantsReturnObject]
    participantCountByGender: [SearchParticipantsReturnObject]
    participantCountByRace: [SearchParticipantsReturnObject]
    participantCountByEthnicity: [SearchParticipantsReturnObject]
}

type GetParticipantsResult {
    # Overall count
    numberOfParticipants: Int
    numberOfDiagnoses: Int
    numberOfStudies: Int
    numberOfSurvivals: Int

    # Demographics
    filterParticipantCountByEthnicity: [SearchParticipantsReturnObject]
    filterParticipantCountByRace: [SearchParticipantsReturnObject]
    filterParticipantCountBySexAtBirth: [SearchParticipantsReturnObject]

    # Diagnoses
    filterParticipantCountByAgeAtDiagnosis: RangeCount
    filterParticipantCountByAnatomicSite: [SearchParticipantsReturnObject]
    filterParticipantCountByDiagnosisClassification: [SearchParticipantsReturnObject]
    filterParticipantCountByDiagnosisClassificationSystem: [SearchParticipantsReturnObject]
    filterParticipantCountByDiagnosisVerificationStatus: [SearchParticipantsReturnObject]
    filterParticipantCountByDiagnosisBasis: [SearchParticipantsReturnObject]
    filterParticipantCountByDiseasePhase: [SearchParticipantsReturnObject]

    # Studies
    filterParticipantCountByPhsAccession: [SearchParticipantsReturnObject]
    filterParticipantCountByStudyAcronym: [SearchParticipantsReturnObject]
    filterParticipantCountByStudyShortTitle: [SearchParticipantsReturnObject]

    # Survivals
    filterParticipantCountByAgeAtLastKnownSurvivalStatus: RangeCount
    filterParticipantCountByFirstEvent: [SearchParticipantsReturnObject]
    filterParticipantCountByLastKnownSurvivalStatus: [SearchParticipantsReturnObject]

    # Widget counts
    participantCountByEthnicity: [SearchParticipantsReturnObject]
    participantCountByRace: [SearchParticipantsReturnObject]
    participantCountBySexAtBirth: [SearchParticipantsReturnObject]
    participantCountByAgeAtLastKnownSurvivalStatus: [SearchParticipantsReturnObject]
    participantCountByFirstEvent: [SearchParticipantsReturnObject]
    participantCountByLastKnownSurvivalStatus: [SearchParticipantsReturnObject]
}

type ParticipantOverviewResult {
    # Demographics
    ethnicity: String
    participant_id: String
    race: String
    sex_at_birth: String

    # Study
    phs_accession: String

    # Additional fields for download
    alternate_participant_id: String
    study_id: String
}

type DiagnosisOverviewResult {
    # Demographics
    participant_id: String

    # Diagnosis
    age_at_diagnosis: Int
    anatomic_site: String
    diagnosis_basis: String
    diagnosis_classification: String
    diagnosis_classification_system: String
    diagnosis_verification_status: String
    disease_phase: String
    tumor_classification: String

    # Study
    phs_accession: String

    # Additional fields for download
    diagnosis_id: String
    diagnosis_comment: String
    study_id: String
    toronto_childhood_cancer_staging: String
    tumor_grade: String
    tumor_stage_clinical_m: String
    tumor_stage_clinical_n: String
    tumor_stage_clinical_t: String
}

type StudyOverviewResult {
    # Study
    phs_accession: String
    study_acronym: String
    study_short_title: String

    # Additional fields for download
    acl: String
    consent: String
    consent_number: Int
    external_url: String
    study_description: String
    study_id: String
    study_name: String
}

type SurvivalOverviewResult {
    # Participant
    participant_id: String

    # Study
    phs_accession: String

    # Survival
    age_at_last_known_survival_status: Int
    first_event: String
    last_known_survival_status: String

    # Additional fields for download
    age_at_event_free_survival_status: Int
    event_free_survival_status: String
    study_id: String
    survival_id: String
}

type SampleOverViewResult {
    id: String
    sample_id: String
    participant_id: String
    study_id: String
    anatomic_site: String
    participant_age_at_collection: Int
    diagnosis_icd_o: String
    sample_tumor_status: String
    tumor_classification: String
    files: [String]
}

type FileOverViewResult {
    id: String
    file_name: String
    file_category: String
    file_description: String
    file_type: String
    file_size: String
    sample_id: String
    participant_id: String
    study_id: String
    file_id: String
    guid: String
    md5sum: String
    files: [String]
}

type FileDetail {
    id: String
    file_id: String
    guid: String
    file_name: String
    study_short_title: String
    phs_accession: String
    sample_id: String
    participant_id: String
    study_id: String
    file_type: String
    file_size: Float
    md5sum: String
}

schema {
    query: QueryType
}

type QueryType {
    esVersion: String
    globalSearch (input: String, first: Int = 10, offset: Int = 0): GlobalSearchResult

    idsLists: IdsListsES
    
    searchParticipants (
        participant_ids: [String] = [""],
        race: [String] = [""],
        gender: [String] = [""],
        ethnicity: [String] = [""],
        age_at_diagnosis: [Int] = [0],
        diagnosis_anatomic_site: [String] = [""],
        disease_phase: [String] = [""],
        diagnosis_icd_o: [String] = [""],
        vital_status: [String] = [""],
        sample_anatomic_site: [String] = [""],
        participant_age_at_collection: [Int] = [0],
        sample_tumor_status: [String] = [""],
        tumor_classification: [String] = [""],
        assay_method: [String] = [""],
        file_type: [String] = [""],
        phs_accession: [String] = [""],
        grant_id: [String] = [""],
        institution: [String] = [""],
        study_acronym: [String] = [""],
        study_short_title: [String] = [""],
        library_selection: [String] = [""],
        library_source: [String] = [""],
        library_strategy: [String] = [""]
    ): SearchParticipantsResult
    
    getParticipants (
        # Demographics
        participant_ids: [String] = [""],
        ethnicity: [String] = [""],
        race: [String] = [""],
        sex_at_birth: [String] = [""],

        # Diagnoses
        age_at_diagnosis: [Int] = [0],
        anatomic_site: [String] = [""],
        diagnosis_classification: [String] = [""],
        diagnosis_classification_system: [String] = [""],
        diagnosis_verification_status: [String] = [""],
        diagnosis_basis: [String] = [""],
        disease_phase: [String] = [""]

        # Studies
        phs_accession: [String] = [""],
        study_acronym: [String] = [""],
        study_short_title: [String] = [""],

        # Survivals
        age_at_last_known_survival_status: [Int] = [0],
        first_event: [String] = [""],
        last_known_survival_status: [String] = [""]
    ): GetParticipantsResult

    participantOverview (
        # Demographics
        participant_ids: [String] = [""],
        ethnicity: [String] = [""],
        race: [String] = [""],
        sex_at_birth: [String] = [""],

        # Diagnoses
        age_at_diagnosis: [Int] = [0],
        anatomic_site: [String] = [""],
        diagnosis_classification: [String] = [""],
        diagnosis_classification_system: [String] = [""],
        diagnosis_verification_status: [String] = [""],
        diagnosis_basis: [String] = [""],
        disease_phase: [String] = [""]

        # Studies
        phs_accession: [String] = [""],
        study_acronym: [String] = [""],
        study_short_title: [String] = [""],

        # Survivals
        age_at_last_known_survival_status: [Int] = [0],
        first_event: [String] = [""],
        last_known_survival_status: [String] = [""]

        # Table config
        first: Int = 10,
        offset: Int = 0,
        order_by: String = "",
        sort_direction: String = ""
    ): [ParticipantOverviewResult]

    diagnosisOverview (
        # Demographics
        participant_ids: [String] = [""],
        ethnicity: [String] = [""],
        race: [String] = [""],
        sex_at_birth: [String] = [""],

        # Diagnoses
        age_at_diagnosis: [Int] = [0],
        anatomic_site: [String] = [""],
        diagnosis_classification: [String] = [""],
        diagnosis_classification_system: [String] = [""],
        diagnosis_verification_status: [String] = [""],
        diagnosis_basis: [String] = [""],
        disease_phase: [String] = [""]

        # Studies
        phs_accession: [String] = [""],
        study_acronym: [String] = [""],
        study_short_title: [String] = [""],

        # Survivals
        age_at_last_known_survival_status: [Int] = [0],
        first_event: [String] = [""],
        last_known_survival_status: [String] = [""]

        # Table config
        first: Int = 10,
        offset: Int = 0,
        order_by: String = "",
        sort_direction: String = ""
    ): [DiagnosisOverviewResult]
    
    studyOverview (
        # Demographics
        participant_ids: [String] = [""],
        ethnicity: [String] = [""],
        race: [String] = [""],
        sex_at_birth: [String] = [""],

        # Diagnoses
        age_at_diagnosis: [Int] = [0],
        anatomic_site: [String] = [""],
        diagnosis_classification: [String] = [""],
        diagnosis_classification_system: [String] = [""],
        diagnosis_verification_status: [String] = [""],
        diagnosis_basis: [String] = [""],
        disease_phase: [String] = [""]

        # Studies
        phs_accession: [String] = [""],
        study_acronym: [String] = [""],
        study_short_title: [String] = [""],

        # Survivals
        age_at_last_known_survival_status: [Int] = [0],
        first_event: [String] = [""],
        last_known_survival_status: [String] = [""]

        # Table config
        first: Int = 10,
        offset: Int = 0,
        order_by: String = "",
        sort_direction: String = ""
    ): [StudyOverviewResult]

    survivalOverview (
        # Demographics
        participant_ids: [String] = [""],
        ethnicity: [String] = [""],
        race: [String] = [""],
        sex_at_birth: [String] = [""],

        # Diagnoses
        age_at_diagnosis: [Int] = [0],
        anatomic_site: [String] = [""],
        diagnosis_classification: [String] = [""],
        diagnosis_classification_system: [String] = [""],
        diagnosis_verification_status: [String] = [""],
        diagnosis_basis: [String] = [""],
        disease_phase: [String] = [""]

        # Studies
        phs_accession: [String] = [""],
        study_acronym: [String] = [""],
        study_short_title: [String] = [""],

        # Survivals
        age_at_last_known_survival_status: [Int] = [0],
        first_event: [String] = [""],
        last_known_survival_status: [String] = [""]

        # Table config
        first: Int = 10,
        offset: Int = 0,
        order_by: String = "",
        sort_direction: String = ""
    ): [SurvivalOverviewResult]
    
    sampleOverview (
        participant_ids: [String] = [""],
        race: [String] = [""],
        gender: [String] = [""],
        ethnicity: [String] = [""],
        age_at_diagnosis: [Int] = [0],
        diagnosis_anatomic_site: [String] = [""],
        disease_phase: [String] = [""],
        diagnosis_icd_o: [String] = [""],
        vital_status: [String] = [""],
        sample_anatomic_site: [String] = [""],
        participant_age_at_collection: [Int] = [0],
        sample_tumor_status: [String] = [""],
        tumor_classification: [String] = [""],
        assay_method: [String] = [""],
        file_type: [String] = [""],
        phs_accession: [String] = [""],
        grant_id: [String] = [""],
        institution: [String] = [""],
        study_acronym: [String] = [""],
        study_short_title: [String] = [""],
        library_selection: [String] = [""], 
        ibrary_source: [String] = [""],
        library_strategy: [String] = [""],
        offset: Int = 0,
        first: Int = 10,
        order_by: String = "",
        sort_direction: String = ""
    ): [SampleOverViewResult]

    fileOverview (
        participant_ids: [String] = [""],
        race: [String] = [""],
        gender: [String] = [""],
        ethnicity: [String] = [""],
        age_at_diagnosis: [Int] = [0],
        diagnosis_anatomic_site: [String] = [""],
        disease_phase: [String] = [""],
        diagnosis_icd_o: [String] = [""],
        vital_status: [String] = [""],
        sample_anatomic_site: [String] = [""],
        participant_age_at_collection: [Int] = [0],
        sample_tumor_status: [String] = [""],
        tumor_classification: [String] = [""],
        assay_method: [String] = [""],
        file_type: [String] = [""],
        phs_accession: [String] = [""],
        grant_id: [String] = [""],
        institution: [String] = [""],
        study_acronym: [String] = [""],
        study_short_title: [String] = [""],
        library_selection: [String] = [""],
        library_source: [String] = [""],
        library_strategy: [String] = [""],
        offset: Int = 0,
        first: Int = 10,
        order_by: String = "",
        sort_direction: String = ""
    ): [FileOverViewResult]

    fileIDsFromList (
        participant_ids: [String] = [],
        diagnosis_ids: [String] = [],
        study_ids: [String] = [],
        sample_ids: [String] = [],
        file_ids: [String] = []
    ): [String]

    filesInList(
        id: [String],
        order_by: String = "",
        sort_direction: String = "ASC",
        first: Int = 10,
        offset: Int = 0
    ): [FileDetail]

    numberOfDiagnoses: Int
    numberOfParticipants: Int
    numberOfReferenceFiles: Int
    numberOfStudies: Int
    numberOfSurvivals: Int
}
